*{box-sizing:border-box}body{margin:0;font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif;color:#111}
header{padding:16px;border-bottom:1px solid #eee;display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}
h1{margin:0;font-size:20px}
.controls{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
button{border:1px solid #ddd;border-radius:8px;background:#f7f7f7;cursor:pointer;padding:8px 12px}
button.secondary{background:#fff}button.danger{background:#fff;border-color:#f99;color:#b00}
button:hover{background:#f0f6ff}
main{display:grid;grid-template-columns:1fr 440px;gap:16px;padding:16px}
@media(max-width:1200px){main{grid-template-columns:1fr}}
.grid{display:grid;grid-template-columns:repeat(5,1fr);gap:8px}
@media(max-width:900px){.grid{grid-template-columns:repeat(2,1fr)}}
.square{border:1px solid #e5e5e5;border-radius:8px;padding:12px;background:#fff;min-height:92px;display:flex;align-items:center;justify-content:center;text-align:center;cursor:pointer;position:relative;transition:background .2s,border-color .2s}
.square:hover{box-shadow:0 0 0 2px #1e90ff33 inset}
.square .badge{position:absolute;top:6px;right:8px;font-size:12px;background:#f3f6ff;padding:2px 6px;border-radius:12px}
.square .bulb{position:absolute;left:8px;top:8px;width:20px;height:20px;border-radius:50%;border:1px solid #ffd966;background:#fff9d6;color:#b58900;font-weight:700;font-size:12px;display:grid;place-items:center;cursor:pointer}
.square.logged{background:#eaf9ef;border-color:#b9e6c6}
.panel{border:1px solid #eee;border-radius:12px;padding:16px;background:#fff}
.panel h2{margin-top:0}form .row{display:flex;gap:12px;margin-bottom:10px;flex-wrap:wrap}
label{display:flex;flex-direction:column;gap:6px;font-size:14px}input,textarea{padding:8px;border:1px solid #ddd;border-radius:8px}
.stats{display:flex;gap:24px;margin:8px 0;flex-wrap:wrap}
.stats div{display:flex;flex-direction:column;align-items:center}
.stats strong{font-size:22px}
.stats .streak strong{display:flex;align-items:center;gap:6px}
.by-item{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:8px;margin-top:12px}
.by-item .pill{display:flex;justify-content:space-between;border:1px dashed #e5e5e5;border-radius:999px;padding:6px 10px;font-size:13px;background:#fafafa}
.trend{margin-top:12px}
#recent{list-style:none;padding-left:0;margin:0;display:grid;gap:8px}
#recent li{border:1px dashed #e5e5e5;border-radius:10px;padding:8px 10px;background:#fafafa}
#recent .meta{font-size:12px;color:#555;margin-bottom:4px}

.modal[hidden]{display:none}.modal{position:fixed;inset:0;background:#0006;display:grid;place-items:center}
.modal-inner{width:min(760px,92vw);background:#fff;border-radius:12px;padding:16px;position:relative}
.modal .close{position:absolute;right:14px;top:14px;background:#fff;border:1px solid #eee;font-size:18px;width:32px;height:32px;border-radius:50%}
#tipList{display:grid;gap:6px;margin-top:8px;padding-left:20px}
#tipList li{padding:8px;border:1px solid #eee;border-radius:8px;background:#fffcf0}

/* Print styles for PDF export */
@media print{
  .no-print, .modal{ display:none !important; }
  body{ color:#000; }
  main{ grid-template-columns:1fr; padding:0; }
  .panel{ page-break-inside: avoid; border:1px solid #ddd; margin:8px; }
  .grid{ grid-template-columns:repeat(3,1fr); }
  .square{ min-height:72px; }
  .trend canvas{ max-width:100%; }
}
/* Base button look is already handled by your .controls button styles.
   This makes the companion button match but inverted. */
.companion-btn {
  display: inline-block;
  padding: 0.5em 1em;
  border-radius: 4px;
  font-size: 1em;
  text-decoration: none;
  font-weight: bold;
  cursor: pointer;

  background-color: black;
  color: white;
  border: 1px solid black;
}

.companion-btn:hover {
  background-color: #333;
  border-color: #333;
}
